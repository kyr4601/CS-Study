# ERD (Entity Relationship Diagram)

## 개념
    개체-관계 모델. 테이블간의 관계를 설명해주는 다이어그램이라고 볼 수 있으며, 이를 통해 프로젝트에서 사용되는 DB의 구조를 한눈에 파악할 수 있습니다.
    즉, API를 효율적으로 뽑아내기 위한 모델 구조도라고 생각하면 됩니다.

<img src="https://velog.velcdn.com/images%2Fash3767%2Fpost%2Fdfb466b9-a200-45eb-8517-d41418a7f16c%2Fimage.png" width="800" height="400">


## 중요성

    ERD는 복잡한 데이터 구조와 관계를 시각적으로 표현함으로써, 데이터베이스 설계를 명확하고 이해하기 쉽게 만들어줍니다. 또한, ERD를 통해 데이터의 무결성과 일관성을 보장할 수 있습니다.

<br>

# 정규화 과정

## 개념

    정규화는 데이터베이스에서 중복을 최소화하고, 데이터를 구조적으로 표현하기 위해 사용하는 과정입니다. 이를 통해 데이터의 무결성과 효율성을 높일 수 있습니다.

## 원칙

    정규화는 중복된 데이터를 제거하고, 데이터를 논리적으로 구조화하는 것을 목표로 합니다. 이를 위해 여러 단계의 정규형을 거치게 됩니다.

## 특징

- 데이터 조회시 조인 증가 => 필요에 따라 반정규화 진행

- 업무 변경시에도 모델의 유연성 향상

- 엔터티 의미 해석 명확

- 테이블 수 증가

- 모델의 독립성 향상

<img src="https://camo.githubusercontent.com/5e277c100800b192212c08221028d66da5b21d4a69c93567a805e0d83c2bc081/68747470733a2f2f76656c6f672e76656c63646e2e636f6d2f696d616765732f6c696272613330332f706f73742f62633636313565622d303933342d343066392d396566362d3063313735373866623266322f696d6167652e706e67" width="800" height="600">

## 제 1 정규화

- 모든 속성값이 원자값으로만 되어 있음

## 제 2 정규화

- 모든 속성은 기본키에 완전 함수 종속 만족
- 부분적 함수 종속성 제거
- 그러나 기본키가 속성 하나로만 구성되어있으면 Pass

<img src="https://camo.githubusercontent.com/b77e37d0178e29ef9e1c4ae19b98fa43fa92dc640d67361c48e032f57bc07968/68747470733a2f2f76656c6f672e76656c63646e2e636f6d2f696d616765732f6c696272613330332f706f73742f66636430306566642d383266302d343632372d613866642d6462306130633633366234302f696d6167652e6a7067" width="800" height="400">

- 학생번호와 강좌이름 속성으로 구성된 기본키

- 하지만 강좌명에 따라 강의실이 결정되는 부분 함수 종속이 존재

- 따라서, 강좌명을 기본키로하는 테이블을 생성하여 수강 테이블, 강의실 테이블로 분리하여 제 2정규화 조건 충족

## 제 3 정규화

- 이행함수 종속성 제거

- 이행적 종속이란 A -> B, B -> C 이면 A -> C 라는 것을 의미한다.

<img src="https://camo.githubusercontent.com/98506e21b37405a1645a6501f73e424319a3bdee6ab72c65474e84a07856a5f4/68747470733a2f2f76656c6f672e76656c63646e2e636f6d2f696d616765732f6c696272613330332f706f73742f62323631373434352d303564622d346238322d393132382d3235313730646332373934322f696d6167652e706e67" width="800" height="400">

<br>

- 학생번호에 따라 수강료가 결정되는 이상한 상황이 발생함.

- 또한, 강좌가 2만원이라는 것이 중복된다.

- 수강료는 강좌에 따라 결정되야 하므로 이행함수 종속성을 제거한다.

- 다음과 같이 계절수강 테이블, 수강료 테이블을 나누었다.

<br>

<img src="https://camo.githubusercontent.com/d1364ae4e1f7421db2db0cb4c4655373a7b1cad20d7d20069b160fccd0622501/68747470733a2f2f76656c6f672e76656c63646e2e636f6d2f696d616765732f6c696272613330332f706f73742f63623038336232652d323434322d346437322d396163612d3462666332613437303337352f696d6167652e706e67" width="800" height="400">

## BCNF 정규화

- 모든 결정자가 후보키인 정규형을 뜻한다.
- 제 3 정규화까지 진행한 테이블의 모든 결정자가 후보키가 되도록 테이블을 분리시킨다.

    - 결정자란?

            한 속성의 값이 다른 속성의 값을 결정짓는다면, 그 속성을 '결정자'라고 한다.

<img src="https://camo.githubusercontent.com/618de0dd83018e0d979195f34ceb9b37f1c51e2ed81ca8ca25b77e2136f7d5a6/68747470733a2f2f76656c6f672e76656c63646e2e636f6d2f696d61676573253246797573656f676930323138253246706f737425324661333964386237662d343330662d343764312d386463332d393831346432376566613933253246696d6167652e706e67" width="800" height="400">

<br>

- 이 테이블에서 각 튜플을 구분할 수 있는 학생번호와 특강이름이 기본키이다.

- 따라서 학생번호와 특강이름으로 해당 교수를 알 수 있다.

- 그런데 마찬가지로 교수를 알면 특강 이름을 알 수 있다.

- 교수는 특강이름을 알 수 있는 결정자인데 후보키가 아닌 상황이 발생함.

- 모든 결정자가 후보키이어야한다는 BCNF 정규화 조건을 충족시키지 못함.

<br>

<img src="https://camo.githubusercontent.com/7e94a0a34d64ad6dbfee1021e11f30959efe82f06142ec048500480741984783/68747470733a2f2f76656c6f672e76656c63646e2e636f6d2f696d61676573253246797573656f676930323138253246706f737425324631363961326665352d326434652d343662632d393034372d333264356132353333656162253246696d6167652e706e67" width="800" height="400">

<br>

- 그래서 다음과 같이 특강신청 테이블, 특강 교수 테이블로 나누어 문제를 해결.
